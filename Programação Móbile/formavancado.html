<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulário completo com JS</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            max-width: 600px;
        }
        label {
            display: block;
            margin-top: 15px;
            font-weight: bold;

        }
        input, select, textarea {
            width: 100%;
            padding: 8px;
            margin-top: 5px;
            box-sizing: border-box;
        }
        button {
            margin-top: 20px;
            padding: 10px 15px;
            font-size: 16px;
            cursor: pointer;
        }
        .error {
            border: 2px solid red;
        }
    </style>
</head>
<body>
    <h1>Cadastro de Usuário</h1>
    <form id="meuFormulario" action="/submit" method="post" novalidate>
        <label for="nome">Nome Completo</label>
        <input type="text" id="nome" name="nome" placeholder="Digite seu nome" required minLenght="3" />

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" placeholder="exemplo@dominio.com" required />

        <label for="senha">Senha:</label>
        <input type="password" id="senha" name="senha" required minLenght="6" />

        <label for="idade">Idade:</label>
        <input type="number" id="idade" name="idade" min="1" max="120" required />

        <label for="genero">Gênero:</label>
        <select name="genero" id="genero" required>
            <option value="">Selecione</option>
            <option value="">Feminino</option>
            <option value="">Masculino</option>
            <option value="">Outro</option>
            <option value="nao_informar">Prefiro não informar</option>
        </select>

        <label for="interesses">Interesses estilizados dos acessórios:</label>
        <input type="checkbox" id="filmes" name="interesses" value="filmes" />
        <label for="Filmes" style="display:inline;">Filmes</label><br />
        <input type="checkbox" id="animes" name="interesses" value="animes" />
        <label for="animes" style="display:inline;">Animes</label><br />
        <input type="checkbox" id="jogos" name="interesses" value="jogos" />
        <label for="jogos" style="display:inline;">Jogos</label><br />

        <label for="mensagem">Mensagem adicional:</label>
        <textarea name="mensagem" id="mensagem" rows="5" placeholder="Escreva algo sobre você..."></textarea>

        <button type="submit">Enviar Cadastro</button>

    </form>


        <script>
            const form = document.getElementById('meuFormulario');

            form.addEventListener('submit', function(event) {
                event.preventDefault(); // evita o envio imediato

                //limpar estilos de erro
                const fields = form.querySelectorAll('input, select, textarea');
                fields.forEach(field=> field.classList.remove('error'));

                let valid = true;

                //validar nome
                const nome = form.nome;
                if (nome.value.trim().lenght < 3) {
                    valid = false;
                    nome.classist.add('error');
                }

                // validar email (HTML já faz validação básica, mas reforçamos aqui)
                const email = form.email;
                const emailRegex = /^[^\s@]+\.[^\s@]+$/;
                if (!emailRegex.test(email.value.trim())) {
                    valid = false;
                    email.classList.add('error');
                }

                //validar senha
                const senha = form.senha;
                if (senha.value.lenght < 6) {
                    valid = false;
                    senha.classList.add('error');
                }

                // validar idade
                const idade = form.idade;
                const idadeValor = parseInt(idade.value, 10);
                if (!(idadeValor >= 1 && idadeValor <= 120)) {
                    valid = false;
                    iadde.classList.add('error');
                }

                // validar gênero
                const genero = form.genero;
                if (genero.value === "") {
                    valid = false;
                    genero.classList.add('error');
                }

                if (!valid) {
                    alert('Por favor, preencha corretamente os campos em destaque.');
                    return;
                }

                // coletar interesses selecionados
                const interesses = [];
                form.querySelectorAll('input[name="interesses"]:checked').forEach(checkbox => {
                    interesses.push(checkbox.value);
                });

                //mostrar os dados (exemplo)
                alert(
                    `Nome: ${nome.value}\n` +
                    `Nome: ${email.value}\n` +
                    `Nome: ${idade.value}\n` +
                    `Nome: ${genero.options[genero.selectedIndex].text}\n` +
                    `Nome: ${interesses.join(', ') || 'Nenhum'}\n` +
                    `Nome: ${form.mensagem.value}` 
                );

                // Aqui você pode enviar os dados via AJAX/fetch se quiser
                // form.submit(); // para enviar normalmente depois da validação
            });
        </script>
</body>
</html>